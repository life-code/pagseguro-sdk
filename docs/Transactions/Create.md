# Pagseguro SDK Documentation

[Return documentation](https://github.com/life-code/pagseguro-sdk/blob/master/docs/README.md)

## Create Payment transaction documentation
> Whenever you use PagSeguro checkout, you must create a session. [Click here to learn more](https://github.com/life-code/pagseguro-sdk/blob/master/docs/Session.md).

```sh
<?php

require('./vendor/autoload.php');

use PagSeguro\PagSeguro;
use PagSeguro\Items\Item;
use PagSeguro\Shipping\Shipping;
use PagSeguro\Common\Phone;
use PagSeguro\Common\Documents;
use PagSeguro\Common\Address;
use PagSeguro\Customer\Customer;
use PagSeguro\Shipping\Type as ShippingType;
use PagSeguro\Transactions\Method;
use PagSeguro\Transactions\Type as MethodType;
use PagSeguro\Transactions\Bank;
use PagSeguro\Transactions\CreditCard\CreditCard;
use PagSeguro\Transactions\CreditCard\Holder;
use PagSeguro\Transactions\CreditCard\Installment;
use PagSeguro\Exceptions\PagSeguroException;


$payment = PagSeguro::payment();

try {
    $payment->setRedirectURL('http://example.com/payment-completed');
    $payment->setReceiverEmail(env('PAGSEGURO_EMAIL'));
    $payment->setReference('9uggPD8p');
    
    $item = new Item(
        '6564621364535', // ID
        'Lorem ipsum', // description
        10.00, // price
        1, // quantity
        1, // weight
        10.00 // shipping cost
    );
    $payment->setItems($item);
    
    $item = new Item(
        '12231354123', // ID
        'Lorem ipsum', // description
        50.00, // price
        2, // quantity
        6, // weight
        10.00 // shipping cost
    );
    $payment->setItems($item);
    
    $phone = new Phone('82', '28634136');
    
    $documents = new Documents([Documents::CPF => '24227052009']);
    
    $address = new Address(
        '57040644', // CEP
        'Rua Dom JoÃ£o VI', // Street
        '155', // number
        'apto. 306', // complement
        'Jacintinho', // district
        'Alvorada', // city
        'RS', // state
        'BRA' // country
    );
    
    $shipping = new Shipping($address, 100.00, ShippingType::TYPE_PAC);
    
    $customer = new Customer(
        'Vinicius Pugliesi', // first name with last name
        'vinicius_puglies@outlook.com', // email
        'Qs0TSW3OQjcEJBG23qEanxKWeFTMxuOEdFYxbQBs', // hash
        '191.13.60.30', // IP
        $phone,
        $address, 
        $documents
    );
    
    $holder = new Holder('Vinicius Pugliesi', '17/01/1991', $phone, $documents);
    
    $installment = new Installment(
        1, // quantity
        1, // no interest installment quantity
        1.00 // value
    );
    
    $credit_card = new CreditCard(
        '$2y$10$fTMKmH8fmR9wUa0x35norOY46Y86T7wwsVz/0FwC7B33T.87WaFAy',  // Token generated by PagSeguro JavaScript API
        $holder, 
        $installment, 
        $address
    );
    
    $method = new Method(MethodType::CREDITCARD, Bank::BANCO_DO_BRASIL, $credit_card);
} catch (PagSeguroException $e) {
    var_dump($e);
    die();
}

$response = $payment->pay($shipping, $customer, $method);

if ($response->hasErrors()) {
    var_dump($response->getErrors());
    die();
}

header('Location: ' . $response->redirect());

```